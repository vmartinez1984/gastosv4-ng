<form [formGroup]="formGroup" (submit)="guardar()">
    <div class="row g-3 align-items-center">
        <div class="col-5">

            <div class="mb-3">
                <label class="form-label">Cantidad</label>
                <input type="number" min="1" max="34000" formControlName="cantidad" class="form-control" #cantidad
                    [ngClass]="{ 'is-invalid': submitted && f['cantidad'].errors}" (change)="calcularTotal()" />
                @if(submitted && f['cantidad'].errors){
                <div class="invalid-feedback">
                    @if(formGroup.controls['cantidad'].errors?.min){
                    <div>Ingresa un cantidad valida</div>
                    }
                    @if(formGroup.controls['cantidad'].errors?.required){
                    <div>Ingresa un cantidad</div>
                    }
                </div>
                }
                {{total2 | currency}}
            </div>

            <div class="mb-3">
                <label class="form-label">Concepto</label>
                <input type="text" maxlength="50" formControlName="concepto" class="form-control" #concepto
                    [ngClass]="{ 'is-invalid': submitted && f['concepto'].errors}" />
                @if(submitted && f['concepto'].errors?.['required']){
                <div class="invalid-feedback">
                    @if(f['concepto'].errors?.['required']){
                    <div>Ingresa un concepto</div>
                    }
                </div>
                }
            </div>

            <div class="mb-3">
                <label class="form-label">Referencia</label>
                <input type="text" maxlength="50" formControlName="referencia" class="form-control" />
            </div>
            <div class="mb-3">
                @if(estaCargando){
                <button type="submit" class="btn btn-primary" [disabled]="estaCargando">
                    Un momento
                    <div class="spinner-border spinner-border-sm text-info" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </button>
                }
                @else {
                <button type="submit" class="btn btn-primary">
                    Guardar
                </button>
                }
            </div>
        </div>
    </div>
</form>